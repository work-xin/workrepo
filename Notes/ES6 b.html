<!DOCTYPE html>
<html>
    <head>
        <script>
            //异步
            /**$.ajax({
                url: ' /banner_data',
                success(banners){
                    
                    //第二层
                    $.ajax({
                        url: ' /user_data',
                        success(user){

                        },
                        error(){
                            alert('数据异常');
                        }
                    });

                },
                error(){
                    alert('数据异常');
                }
            });

            //同步
            let banners=$.ajax({url:'/banner_data'});
            let user=$.ajax({url:'/user_data'});

            //Promise
            let pro = new Promise(
                (resolve,reject)=>{
                    //resolve  解决
                    //reject   拒绝
                    $.ajax({
                        url:'1.txt',
                        dataType:'json',
                        success(json){
                            resolve(json);
                        },
                        error(err){
                            reject(err);
                        }
                    });
                }
            );

            //then 然后    当Promise对象内部操作结束后执行  参数为两个回调函数 成功和失败
            pro.then(
                (json)=>{
                    console.log(json);
                },
                (err)=>{

                }
            );**/

            //genertor
            function *showGen(){
                alert('aaa');

                yield 20; //相当于 return 20;
                //let a = yield; //当next第二次执行时 会将参数赋值给a

                alert('bbb');

                return 66;
            };

            //let gen = showGen();
            //let r1 = gen.next(12); //{value: 20, done: false}
            //let r2 = gen.next(13); //{value: 66, done: true}
            
            //console.log(r1);
            //console.log(r2);

            //消除异步操作 genertor使用
            /**function *showYe(){
                let d1 = yield $.ajax();

                if(true){
                    let d2 = yield $.ajax();
                }else{
                    let d3 = yield $.ajax();
                }
            }**/

            //async await
            function sleep(sec){
                return new Promise((resolve,reject)=>{
                    setTimeout(function (){
                        resolve();
                    },sec*1000);
                });
            }


            async function showAsync(){
                alert('a');
                await sleep(1);
                alert('b');
                await sleep(2);
                alert('c');
            }

            showAsync();
        </script>
    </head>
    <body>

    </body>
</html>